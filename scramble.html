<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Puri Jagannath Scramble Game</title>
  <link rel="stylesheet" href="allgames.css">
</head>
<body>
  <h1>Scramble the Temple Word</h1>
  <div class="game-box">
    <h2 id="scrambled"></h2>
    <input type="text" id="guess" placeholder="Your Answer">
    <br>
    <button onclick="checkWord()">Check</button>
    <button onclick="nextWord()">Next</button>
    <p id="message"></p>
    <div id="back-btn"></div>
  </div>

  <script>
    let words = ["JAGANNATH", "PURI", "RATHYATRA", "NILACHAKRA", "SUBHADRA", "BALABHADRA", "MAHAPRASAD"];
    let currentWord = "";
    let scrambledWord = "";
    let index = 0;

    // Shuffle the words array once
    words = words.sort(() => 0.5 - Math.random());

    function shuffle(word) {
      return word.split('').sort(() => 0.5 - Math.random()).join('');
    }

    function newWord() {
      if (index >= words.length) {
        document.getElementById("scrambled").innerText = "üéâ All words completed!";
        document.getElementById("message").innerText = "";
        document.getElementById("guess").style.display = "none";
        document.querySelectorAll("button").forEach(btn => btn.style.display = "none");
        document.getElementById("back-btn").innerHTML =
          `<button onclick="location.href='games.html'">‚¨Ö Back to Games</button>`;
        return;
      }
      currentWord = words[index];
      scrambledWord = shuffle(currentWord);
      document.getElementById("scrambled").innerText = scrambledWord;
      document.getElementById("guess").value = "";
      document.getElementById("message").innerText = "";
    }

    function checkWord() {
      let guess = document.getElementById("guess").value.toUpperCase();
      if (guess === currentWord) {
        document.getElementById("message").innerText = "‚úÖ Correct!";
        document.getElementById("message").style.color = "green";
      } else {
        document.getElementById("message").innerText = "‚ùå Wrong! Try again.";
        document.getElementById("message").style.color = "red";
      }
    }

    function nextWord() {
      index++;
      newWord();
    }

    newWord();
  </script>
</body>
</html>
